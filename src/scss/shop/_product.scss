@use '../var';
@use '../modules/mixins';

.product {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-template-rows: 1fr repeat(2, minmax(min-content, 3.5rem));
  padding: 0rem 1rem;
  overflow: hidden;

  &:hover,
  &:focus {
    >.product__img {
      transform: rotate(-10deg) scale(1.5);
    }
  }

  @include mixins.radius('big');
  @include mixins.glass;

  @include mixins.normal-motion {
    animation: slide-up 750ms ease-in-out forwards;
    opacity: 0.3;
    transform: translateY(2em);
  }

  @include mixins.mediaquery('xl') {
    max-height: 13rem;
    font-size: 1.25rem;
  }


  &__on-sale-badge {
    position: absolute;
    left: 0;
    top: 0;
    transform: rotate(-32deg) translateX(-25%) translateY(-1rem);
    padding: 0.5rem 0;
    width: 13rem;
    text-align: center;
    text-transform: uppercase;
    background-color: var.$yellow;
  }
}

.product__img {
  align-self: center;
  grid-column: span 4;
  grid-row: 1 / 1;
  justify-self: center;
  object-fit: contain;
  transform: scale(1.4);
  transition: transform 300ms ease-in-out;
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;


  >img {
    height: 5rem;

    @include mixins.mediaquery('xl') {
      height: 7rem;
    }
  }

  filter: drop-shadow(0 0 1px var.$black) drop-shadow(-4px 4px 0 var.$yellow) drop-shadow(4px -4px 0 var.$lightYellow);
}

.product__name {
  align-items: center;
  display: flex;
  grid-column: span 3;
  justify-content: flex-start;
  margin-bottom: 0.3rem;
  font-size: 1.5rem;
}

.product__cart-btn {
  align-self: center;
  justify-self: flex-end;
  margin-bottom: 0.3rem;
  padding: 0.4rem 0.5rem;
  user-select: none;
  transition: all 0.3s ease-in-out;
  transition-property: color, background-color;
  font-size: 1.3rem;

  &:hover,
  &:focus {
    background-color: var.$gray;
    color: var.$black;
    cursor: pointer;
  }

  &:focus {
    outline-offset: 5px;
  }

  @include mixins.button;
  @include mixins.radius('small');
}

.product__price-container {
  align-items: center;
  align-self: center;
  display: flex;
  font-weight: 800;
  gap: 0.5rem;
  grid-column: 1 / 3;
  grid-row: 3 / 4;
  margin-bottom: 1rem;
}

.product__discount {
  color: var.$yellow;
  text-shadow: -2px 2px 2px var.$black, 1px -1px 2px var.$black;
}

.product__price--discounted {
  opacity: 0.3;
  text-decoration: line-through;
}

.product__stars-container {
  align-self: center;
  grid-column: 3 / 5;
  grid-row: 3 / 4;
  margin-bottom: 1rem;
  justify-self: flex-end;
  @include mixins.flex-center;
}

.product__star {
  color: var.$white;
  filter: drop-shadow(-3px 2.5px 0 var.$yellow) drop-shadow(3px -3px 0 var.$lightYellow);

  path {
    stroke: var.$black;
    stroke-width: 21px;
  }
}